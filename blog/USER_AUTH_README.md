# Система регистрации и авторизации пользователей

## Обзор

В проекте реализована полная система регистрации и авторизации пользователей с расширенной моделью пользователя.

## Функциональность

### 1. Расширенная модель пользователя (CustomUser)
- **Дополнительные поля:**
  - `phone` - номер телефона
  - `birth_date` - дата рождения
  - `avatar` - аватар пользователя
  - `bio` - информация о пользователе
  - `is_verified` - статус подтверждения
  - `created_at` - дата регистрации
  - `updated_at` - дата последнего обновления

### 2. Регистрация пользователей
- **URL:** `/users/signup/`
- **Функции:**
  - Создание нового аккаунта
  - Валидация данных
  - Автоматическое перенаправление на страницу входа

### 3. Авторизация пользователей
- **URL:** `/users/login/`
- **Функции:**
  - Вход в систему по имени пользователя/email
  - Запоминание сессии
  - Перенаправление на главную страницу

### 4. Профиль пользователя
- **URL:** `/users/profile/`
- **Функции:**
  - Просмотр информации о пользователе
  - Редактирование профиля
  - Загрузка аватара

### 5. Выход из системы
- **URL:** `/users/logout/`
- **Функции:**
  - Завершение сессии
  - Перенаправление на главную страницу

## Права доступа

### Создание мероприятий
- **Доступ:** Только авторизованные пользователи
- **URL:** `/create/`
- **Функции:**
  - Автоматическое связывание события с создателем
  - Заполнение поля `created_by`

### Просмотр архива мероприятий
- **Доступ:** Только авторизованные пользователи
- **URL:** `/archive/`
- **Функции:**
  - Просмотр прошедших мероприятий
  - Фильтрация и поиск

### Просмотр мероприятий
- **Доступ:** Все пользователи (включая неавторизованных)
- **URL:** `/events/`
- **Функции:**
  - Просмотр предстоящих мероприятий
  - Фильтрация и поиск

## Настройки

### В settings.py
```python
# Кастомная модель пользователя
AUTH_USER_MODEL = 'users.CustomUser'

# Настройки авторизации
LOGIN_REDIRECT_URL = '/'
LOGOUT_REDIRECT_URL = '/'
LOGIN_URL = '/users/login/'
```

### В urls.py
```python
urlpatterns = [
    # ... другие URL
    path('users/', include("users.urls", namespace='users')),
]
```

## Администрирование

### Суперпользователь
- Создан суперпользователь: `dezmoond`
- Email: `xxxdezmoondxxx@gmail.com`
- Доступ к админке: `/admin/`

### Админка пользователей
- Просмотр всех пользователей
- Редактирование профилей
- Управление правами доступа
- Фильтрация по статусу

### Админка мероприятий
- Просмотр всех мероприятий
- Отображение создателя события
- Автоматическое заполнение поля `created_by`

## Использование

### 1. Регистрация нового пользователя
1. Перейти на `/users/signup/`
2. Заполнить форму регистрации
3. Нажать "Зарегистрироваться"
4. Войти в систему

### 2. Вход в систему
1. Перейти на `/users/login/`
2. Ввести имя пользователя/email и пароль
3. Нажать "Войти"

### 3. Редактирование профиля
1. Войти в систему
2. Перейти на `/users/profile/`
3. Нажать "Редактировать профиль"
4. Внести изменения
5. Сохранить

### 4. Создание мероприятия
1. Войти в систему
2. Перейти на `/create/`
3. Заполнить форму
4. Сохранить мероприятие

## Безопасность

- Пароли хешируются
- Сессии управляются Django
- CSRF защита включена
- Валидация данных на стороне сервера
- Автоматическое связывание событий с создателями

## Расширение функциональности

### Добавление новых полей в модель пользователя
1. Изменить `users/models.py`
2. Создать миграции: `python manage.py makemigrations`
3. Применить миграции: `python manage.py migrate`
4. Обновить формы в `users/forms.py`
5. Обновить шаблоны

### Добавление новых прав доступа
1. Использовать декораторы `@login_required`
2. Использовать миксины `LoginRequiredMixin`
3. Настроить перенаправления в `settings.py` 